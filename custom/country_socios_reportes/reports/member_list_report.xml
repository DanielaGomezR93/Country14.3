<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>

    <record id="paperformat_member_list" model="report.paperformat">
        <field name="name">Formato de papel para Listado de socios</field>
        <field name="default" eval="True"/>
        <field name="format">custom</field>
        <!--<field name="page_height">210</field>
        <field name="page_width">297</field>-->
        <field name="orientation">Portrait</field>
        <field name="margin_top">5</field>
        <field name="margin_bottom">3</field>
        <field name="margin_left">3</field>
        <field name="margin_right">3</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">5</field>
        <field name="dpi">80</field>
    </record>
        <report
            id="country_socios_reportes.action_report_member_list"
            model="wizard.member.list"
            string="PDF de Socios"
            menu="False"
            report_type="qweb-pdf"
            name="country_socios_reportes.member_list2"
            file="country_socios_reportes.member_list2"
            paperformat="paperformat_member_list"
            />
    <template id="country_socios_reportes.member_list2">
            <t t-call="web.html_container">
		        <xpath expr="//t[@t-call='web.report_layout']" position="replace">
               
                    <div class="article" style="">
                            <div>
                                <div class="row">
                                    <div class="col-6 mb4">
                                        <img t-if="res_company.logo" t-att-src="image_data_uri(res_company.logo)"
                                            style="max-height:100px;width:200px;float:left"
                                            alt="Logo"/>
                                    </div>
                                    <div class="col-6 text-right" style="margin-top:22px;">
                                        <t t-if="date">
                                            <strong>Emisión :</strong>
                                            <span t-esc="date" t-options='{"widget": "date"}'/>
                                        </t>
                                    </div>
                                    
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <t t-if="res_company.name">
                                            <span t-esc="res_company.name"/>
                                            <br/>
                                        </t>
                                        <t t-if="res_company.vat">Rif:&amp;nbsp;
                                            <span t-esc="res_company.vat"/>
                                            <br/>
                                        </t>
                                    </div>
                                </div>
                                <h5 style="text-align:center">Socios</h5>    
		                        
		                    </div>

                       
		                    <div class="">
                            <!-- white-space: nowrap;overflow: hidden;text-overflow: ellipsis;-->
		                        <style>
		                            th,td{text-align: center;}
		                            thead { display: table-header-group }
		                            tfoot { display: table-row-group }
		                            tr { page-break-inside: avoid }
		                            .clth{
		                                    border-top: 2px solid black;
		                                    border-bottom: 2px solid black;
		                            }
		                            .cltt{
		                                    border-top: 2px solid black;
		                                    font-weight: 600;
		                            }
		                        </style>     
                                	<t t-set="qty" t-value="0"/>
		                           
		                            <table class="table-condensed table-bordered" style="width:100%;font-size:10px;table-layout: fixed">
                                        <thead>
                                            <tr>
                                                <th class="text-center">Nro acción</th>
                                                <th colspan="2"  class="text-center">Nombre</th>
                                                <th class="text-center">Documento ID</th>
                                                <th class="text-center">Teléfono</th>
                                                <th class="text-center">Correo</th>
                                                <th class="text-center">Profesión</th>
                                                <th class="text-center">Titular usufructu</th>
                                                <th class="text-center">Documento ID usufructu</th>
                                                <th class="text-center">Estado</th>
                                            </tr>
                                        </thead>
                                        <tbody>
		                                    <tr t-foreach="docs" t-as="o">
                                                <td style="text-align: center">
			                                        <span t-esc="o.action_number.number"/>
		                                        </td>
                                                <td colspan="2" style="text-align: center">
                                                   
			                                        <span t-esc="o.business_name"/><!--Razon social-->
		                                        </td>

                                                <td>
                                                    <span t-esc="o.prefix_vat"/>-<span t-esc="o.vat"/>
                                                </td>

                                                <td style="text-align: center">
			                                        <span t-esc="o.phone"/>
		                                        </td>
                                                <td style="text-align: center">
			                                        <span t-esc="o.email"/>
		                                        </td>

                                                <td style="text-align: center">
			                                        <span t-esc="o.member_profession.name"/>
		                                        </td>


                                                <td style="text-align: center">
                                                    <t t-if="o.business_name_usufruct">
			                                            <span t-esc="o.business_name_usufruct"/>
                                                    </t>
		                                        </td>
                                                <td>
                                                    <t t-if="o.vat_usufruct">
                                                        <span t-esc="o.prefix_vat_usufruct"/>-<span t-esc="o.vat_usufruct"/>
                                                    </t>
                                                </td>

                                                <td colspan=""  style="text-align: center">
			                                
                                                    <t t-set="states_p" t-value="dict([('active', 'Activo'),('holder', 'Tenedor'),('deceased', 'Fallecido'),('inactive', 'Inactivo')])"/> <!--('discontinued', 'Suspendido')-->
                                                    <t t-esc="states_p[o.state_partner]"/>
		                                        </td>

                                                <t t-set="qty" t-value="qty + 1"/>
                                              
		                                    </tr>
                                        
                                        </tbody>
		                                   
		                            </table>
                                    <table class="table-condensed" style="width:100%;font-size:10px;table-layout: fixed;margin-top: 20px;">
		                                <tr class="cltt">
		                                    <td style="text-align: left" class="" rowspan="1" colspan="">Cantidad de socios: <t t-esc="qty"/></td>
		                                    
		                                </tr>
		                            </table>		                        	                     
		                    </div>
		            </div>
                
               
		        </xpath>
	        </t>
    </template>
    </data>
</odoo>
